// ============================================
// USER & IDENTITY DOMAIN
// ============================================

model User {
    id           String   @id @default(uuid())
    username     String   @unique
    displayName  String   @map("display_name")
    passwordHash String   @map("password_hash")
    createdAt    DateTime @default(now()) @map("created_at")

    gamesAsWhite Game[]  @relation("WhitePlayer")
    gamesAsBlack Game[]  @relation("BlackPlayer")
    rating       Rating?

    @@map("users")
}

// ============================================
// RATING (ELO/ILO System)
// ============================================

model Rating {
    userId String @id @map("user_id")
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)

    rating      Int      @default(1200)
    gamesPlayed Int      @default(0) @map("games_played")
    lastUpdated DateTime @updatedAt @map("last_updated")

    @@map("ratings")
}
